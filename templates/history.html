{% extends "layout.html" %}

{% block title %}
Historial de Transacciones
{% endblock %}

{% block main %}
<div class="container mt-4">
  <h2 class="mb-4 text-center">ðŸ“‹ Historial de Transacciones</h2>

  {% if transactions %}
  <div class="table-responsive">
    <table class="table table-hover table-bordered align-middle text-center">
      <thead class="table-light">
        <tr>
          <th>Fecha</th>
          <th>Tipo</th>
          <th>CategorÃ­a</th>
          <th>DescripciÃ³n</th>
          <th>Monto</th>
        </tr>
      </thead>
      <tbody>
        {% for tx in transactions %}
        <tr class="{% if tx.type == 'income' %}table-success{% else %}table-danger{% endif %}">
          <td>{{ tx.timestamp }}</td>
          <td class="text-capitalize">
            {% if tx.type == 'income' %}
            ðŸ’° Ingreso
            {% else %}
            ðŸ’¸ Gasto
            {% endif %}
          </td>
          <td>{{ tx.category }}</td>
          <td>{{ tx.description }}</td>
          <td class="fw-bold">${{ "%.2f"|format(tx.amount|float) }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="alert alert-info text-center mt-5">
    <h5>ðŸ“­ No hay transacciones registradas</h5>
    <p class="mb-3">Comienza agregando tu primera transacciÃ³n</p>
    <a href="/transaction" class="btn btn-primary btn-custom">âž• Agregar TransacciÃ³n</a>
  </div>
  {% endif %}
</div>
{% endblock %}
